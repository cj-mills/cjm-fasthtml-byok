# Storage


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Session Storage

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-byok/blob/main/cjm_fasthtml_byok/core/storage.py#L20"
target="_blank" style="float:right; font-size:smaller">source</a>

### SessionStorage

>  SessionStorage (config:cjm_fasthtml_byok.core.types.BYOKConfig)

*Session-based storage for API keys. Keys are stored in the user’s
session and expire with the session.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>BYOKConfig</td>
<td>BYOK configuration object</td>
</tr>
</tbody>
</table>

## Database Storage

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-byok/blob/main/cjm_fasthtml_byok/core/storage.py#L113"
target="_blank" style="float:right; font-size:smaller">source</a>

### DatabaseStorage

>  DatabaseStorage (config:cjm_fasthtml_byok.core.types.BYOKConfig,
>                       db_url:str='sqlite:///byok_keys.db')

*Database-backed storage for API keys using SQLAlchemy 2.0+. Keys
persist across sessions and devices.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>BYOKConfig</td>
<td></td>
<td>BYOK configuration object</td>
</tr>
<tr>
<td>db_url</td>
<td>str</td>
<td>sqlite:///byok_keys.db</td>
<td>Database URL (defaults to SQLite)</td>
</tr>
</tbody>
</table>

## Hybrid Storage

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-byok/blob/main/cjm_fasthtml_byok/core/storage.py#L295"
target="_blank" style="float:right; font-size:smaller">source</a>

### HybridStorage

>  HybridStorage (config:cjm_fasthtml_byok.core.types.BYOKConfig,
>                     db_url:Optional[str]=None)

*Hybrid storage using both session and database. Session acts as a
cache, database provides persistence.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>BYOKConfig</td>
<td></td>
<td>BYOK configuration object</td>
</tr>
<tr>
<td>db_url</td>
<td>Optional</td>
<td>None</td>
<td>Optional database URL for persistent storage</td>
</tr>
</tbody>
</table>

## Main Manager

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-byok/blob/main/cjm_fasthtml_byok/core/storage.py#L381"
target="_blank" style="float:right; font-size:smaller">source</a>

### BYOKManager

>  BYOKManager (secret_key:str, db_url:Optional[str]=None,
>                   config:Optional[cjm_fasthtml_byok.core.types.BYOKConfig]=Non
>                   e)

*Main manager for the BYOK system. Handles encryption and storage
coordination.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>secret_key</td>
<td>str</td>
<td></td>
<td>Application secret key for encryption</td>
</tr>
<tr>
<td>db_url</td>
<td>Optional</td>
<td>None</td>
<td>Optional database URL for persistent storage (e.g.,
“sqlite:///keys.db”)</td>
</tr>
<tr>
<td>config</td>
<td>Optional</td>
<td>None</td>
<td>Optional configuration (uses defaults if not provided)</td>
</tr>
</tbody>
</table>
